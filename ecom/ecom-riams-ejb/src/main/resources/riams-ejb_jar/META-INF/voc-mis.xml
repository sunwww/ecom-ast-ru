<vocconfig>


<voc id="userDocumentGroup" type="NativeVocService">
	<NativeVocService
		from="VocUserDocumentGroup vudg"
		nameId="vudg.id"
		order="vudg.name"
		names="vudg.name"
		queried="upper(vudg.name) like upper(:querId) "
	/>
</voc>


<voc id="executorByClaimType" type="NativeVocService">
	<NativeVocService
		from="VocClaimType vct"
		nameId="su.login"
		order="pat.lastname, pat.firstname, pat.middlename"
		names=" pat.lastname||' ' ||pat.firstname||' '||pat.middlename"
		join=" left join workfunctionclaimtype wfct on wfct.claimtype=vct.id
			left join workfunction gwf on gwf.id=wfct.workfunction
			left join workfunction pwf on pwf.group_id=gwf.id
			left join vocworkfunction vwf on vwf.id=pwf.workfunction_id
			left join worker w on w.id=pwf.worker_id
			left join worker allw on allw.person_id=w.person_id
			left join workfunction allwf on allwf.worker_id=allw.id 
			left join secuser su on su.id=allwf.secuser_id
			left join patient pat on pat.id=w.person_id			
			"
		queried="upper(pat.lastname) like upper(:querId) or upper(su.login) like upper(:query) "
		parent="vct.id=:parent"
		queryAppend="su.id is not null"
	/>
</voc>
<voc id="vocClaimType" type="NativeVocService">
	<NativeVocService
		from="VocClaimType vct"
		nameId="vct.id"
		order="vct.name, vct.code"
		names="vct.name"
		queried="cast(vct.id as varchar(2)) like :querId or upper(vct.name) like upper(:query) "
	/>
</voc>

<voc id="medServiceByWorkfunction" type="NativeVocService">
	<NativeVocService
		from="Workfunction wf"
		parent="wf.id=:parent"
		nameId="ms.id"
		order="ms.name, ms.code"
		groupBy="ms.id, ms.name, ms.code"
		names="ms.code||' '||ms.name"
		queryAppend="vst.code='OPERATION'"
		queried="cast(wf.id as varchar(2)) like :querId or upper(wf.groupname) like upper(:query) "
		join="left join workfunctionservice wfs on wfs.lpu_id=wf.lpu_id 
			left join medservice ms on ms.id=wfs.medservice_id
			left join vocservicetype vst on vst.id=ms.servicetype_id"
	/>
</voc>

<voc id="operatingRoomsByMedService" type="NativeVocService">
	<NativeVocService
		from="WorkFunctionService wfs"
		parent="wfs.medservice_id=:parent"
		nameId="wf.id"
		queryAppend="wf.dtype = 'OperatingRoom'" 
		join=" left join WorkFunction wf on wf.lpu_id=wfs.lpu_id  " order=""
		names="wf.code||' '|| wf.groupname"
		queried=" upper(ms.name) like upper(:query) or upper(ms.code) like upper(:query) "
		groupBy="wf.id, wf.code, wf.groupname"
	/>
</voc>

<voc id="operationRoom" type="NativeVocService">
	<NativeVocService
		from="Workfunction wf"
		nameId="wf.id"
		order="wf.groupname"
		names="wf.groupname"
		queryAppend="wf.dtype='OperatingRoom'"
		queried="cast(wf.id as varchar(2)) like :querId or upper(wf.groupname) like upper(:query) "
	/>
</voc>

<voc id="vocMedPolicy" type="NativeVocService">
	<NativeVocService
		from="VocMedPolicy vmp"
		nameId="vmp.id"
		order="vmp.name"
		names="vmp.name"
		queried="cast(vmp.id as varchar(2)) like :querId or upper(vmp.name) like upper(:query) "
	/>
</voc>

<voc id="vocReasonDischarge" type="NativeVocService">
	<NativeVocService
		from="VocReasonDischarge vrd"
		nameId="vrd.id"
		order="vrd.name"
		names="vrd.name"
		queried="cast(vrd.id as varchar(2)) like :querId or upper(vrd.name) like upper(:query) "
	/>
</voc>
<voc id="allMedicalEquipment" type="NativeVocService">
	<NativeVocService
		from="equipment e"
		nameId="e.id"
		order="e.name"
		names="e.id||' '|| e.name"
		queryAppend="e.dtype='MedicalEquipment'"
		queried=" upper(e.name) like upper(:query) or upper(e.inventoryNumber) like upper(:query) "
	/>
</voc>

<voc id="patientAttachmentFormats" type="NativeVocService">
	<NativeVocService
		from="efformat ef"
		nameId="ef.id"
		order="ef.comment"
		names="ef.id||' '|| ef.comment"
		join="left join impdoc id on id.id=ef.document_id"
		queryAppend="ef.actualdateto is null and id.entityclassname='ru.ecom.mis.ejb.domain.patient.PatientAttachedImport'"
		queried=" upper(ms.name) like upper(:query) "
	/>
</voc>

<voc id="vocMedStandard" type="NativeVocService">
	<NativeVocService
		from="MedicalStandard ms"
		nameId="ms.id"
		order="ms.name"
		names="ms.code||' '|| ms.name"
		queryAppend="ms.finishDate is null"
		queried=" upper(ms.name) like upper(:query) "
	/>
</voc>

<voc id="vocEquipmentType" type="NativeVocService">
	<NativeVocService
		from="VocTypeEquip vte"
		nameId="vte.id"
		order="vte.name"
		names="vte.id||' '|| vte.name"
		queried=" upper(vte.name) like upper(:query) "
	/>
</voc>

<voc id="hospServicies" type="NativeVocService">
	<NativeVocService
		from="MedService ms"
		nameId="ms.id"
		queryAppend="vst.code = 'к/д'" 
		join=" left join VocServiceType vst on vst.id=ms.serviceType_id  " order=""
		names="ms.code||' '|| ms.name"
		queried=" upper(ms.name) like upper(:query) or upper(ms.code) like upper(:query) "
	/>
</voc>
<voc id="medServiceAnesthesia" type="NativeVocService">
	<NativeVocService
		from="MedService ms"
		nameId="ms.id"
		queryAppend="vst.code = 'ANESTHESIA'" 
		join=" left join VocServiceType vst on vst.id=ms.serviceType_id  " order=""
		names="ms.code||' '|| ms.name"
		queried=" upper(ms.name) like upper(:query) or upper(ms.code) like upper(:query) "
	/>
</voc>
	
<voc id="surgicalOperations" type="NativeVocService">
	<NativeVocService
		from="MedService ms"
		nameId="ms.id"
		queryAppend="vst.code = 'OPERATION'" 
		join=" left join VocServiceType vst on vst.id=ms.serviceType_id  " order=""
		names="ms.code||' '|| ms.name"
		queried=" upper(ms.name) like upper(:query) or upper(ms.code) like upper(:query) "
	/>
</voc>
<voc id='serviceWorkFunction' type='NativeVocService'>
    	<NativeVocService
    			from = 'WorkFunction as wf '
    			parent = ''
    			names  = "case when wf.dtype='GroupWorkFunction' then vwf.name||' '||wf.groupname else vwf.name||' '|| p.lastname||' '||p.firstname||' '||p.middlename end ||' ' || case when wf.dtype='PersonalWorkFunction' then ml2.name else ml1.name end"
    			queried =" (cast(wf.id as varchar(20))= :querInd or vwf.name like UPPER(:quer1) or wf.groupname like UPPER(:quer1) or p.lastname like :quer1 or (p.lastname like :quer1 and (:quer2 is null or p.firstname like :quer2) and (:quer3 is null or p.middlename like :quer3)) )"
    			queryAppend = " (wf.dtype='PersonalWorkFunction' and wf.group_id is null or wf.dtype='GroupWorkFunction') and (wf.archival is null or wf.archival='0')"
    			queriedSplitCount="3"
    			order =''
    			nameId='wf.id'
    			join='left join Worker as w on w.id=wf.worker_id 
    			left join MisLpu ml1 on ml1.id=wf.lpu_id
    			left join MisLpu ml2 on ml2.id=w.lpu_id
    			
    			left join Patient as p on p.id=w.person_id 
    			left join VocWorkFunction vwf on vwf.id=wf.workFunction_id'
    	/>
    </voc>  

<voc id="actualPriceList" type="NativeVocService">
	<NativeVocService
		from="pricelist as pl"
		nameId='pl.id'
		queryAppend="current_date >= pl.datefrom and (pl.dateto is null or pl.dateto >= current_date)" 
		order=""
		names= "pl.name "
    	queried="upper(pl.name) like upper(:query)" 
	/>
</voc>

<voc id="extDispCom" type="NativeVocService">
	<NativeVocService
		from="vocExtDisp as ved"
		nameId='ved.id'
		queryAppend="(ved.isComission='1')" 
		order=""
		names= "ved.name "
    	queried="upper(ved.name) like upper(:query)" 
	/>
</voc>


<voc id="workFunctionByCode" type="NativeVocService">
	<NativeVocService
		from="workFunction as wf"
		parent="vedsf.name = :parent"
		nameId='wf.id'
		queryAppend="wf.dtype = 'PersonalWorkFunction' and (archival is null or archival='0') and vlf.code in ('2','4','5')" 
		join="left join VocWorkFunction as vwf on vwf.id=wf.workFunction_id
		left join Worker as w on w.id=wf.worker_id
		left join Patient as p on p.id=w.person_id
		left join VocExtDispServiceFunction vedsf on vedsf.code=vwf.code
		left join MisLpu ml on ml.id=w.lpu_id
		left join VocLpuFunction vlf on vlf.id=ml.lpuFunction_id
		" 
		order=""
		names  = "vwf.name||' '|| p.lastname||' '||p.firstname||' '||p.middlename||' ('||ml.name||')' "
    	queried="upper(p.lastname) like upper(:query)" 
	/>
</voc>
<voc id="prescriptTypeNotEmergency" type="NativeVocService">
	<NativeVocService
		from="vocPrescriptType vpt"
		nameId="vpt.id"
		queryAppend="vpt.code != 'EMERGENCY'" 
		join="" order=""
		names="vpt.code||' '|| vpt.name"
		queried=" upper(vpt.name) like upper(:query) or upper(vpt.code) like upper(:query) "
	/>
</voc>
<voc id="vocMkbAdc" type="NativeVocService">
	<NativeVocService
		from="VocMkbAdc vma"
		nameId="vma.code"
		queryAppend="" 
		parent=" mkb.id=:parent "
		join="left join VocIdc10 mkb on mkb.code=vma.name" order=""
		names="'('||vma.code||') '||coalesce(vma.mkb,'')"
		queried=" upper(vpt.code) like upper(:query) "
	/>
</voc>
<voc id="funcMedService" type="NativeVocService">
	<NativeVocService
		from="MedService ms"
		nameId="ms.id"
		parent=" wf.id = :parent "
		queryAppend="MS.DTYPE='MedService' " 
		join="  left join WorkFunctionService wfs on wfs.medservice_id =ms.id left join WorkFunction wf on wf.workfunction_id=wfs.vocworkfunction_id left join VocServiceType vst on vst.id=ms.serviceType_id  " order=""
		names="ms.code||' '|| ms.name"
		queried=" upper(ms.name) like upper(:query) or upper(ms.code) like upper(:query) "
	/>
</voc>
<voc id="funcMedServiceRoom" type="NativeVocService">
	<NativeVocService
		from="WorkFunction wf "
		nameId="wf.id"
		queryAppend="wf.dtype = 'GroupWorkFunction' " 
		join=" " order=""
		names="wf.id||' '|| wf.groupname"
		queried=" upper(wf.groupname) like upper(:query) "
	/>
</voc>
<voc id="labMedService" type="NativeVocService">
	<NativeVocService
		from="MedService ms"
		parent="ms.id not in (select mss.id from medservice mss
	left join workfunctionservice wfss on wfss.medservice_id=mss.id
	left join vocprescripttype vpts on vpts.id=wfss.prescripttype_id
	left join vocservicetype vsts on vsts.id=mss.servicetype_id where vpts.id= :parent 
	and mss.dtype='MedService'
	and vsts.code='LABSURVEY'
	)"
		nameId=" ms.id"
		queryAppend="vst.code = 'LABSURVEY' and ms.dtype='MedService'" 
		join=" left join workfunctionservice wfs on wfs.medservice_id=ms.id 
				left join vocprescripttype vpt on vpt.id=wfs.prescripttype_id 
				left join vocservicetype vst on vst.id=ms.servicetype_id " 
		groupBy="ms.id, ms.name, ms.code"
		order="ms.name"
		names="ms.code||' '|| ms.name"
		queried=" upper(ms.name) like upper(:query) or upper(ms.code) like upper(:query) "
	/>
</voc>
<voc id="vocServiceSubTypeByCode" type="NativeVocService">
	<NativeVocService
		from="VocServiceSubType vsst"
		nameId="vsst.id"
		queryAppend=""
		parent="vsst.serviceType = :parent" 
		join="" order=""
		names="vsst.name"
		queried="upper(vsst.name) like upper(:query)"
	/>
</voc>
<voc id="vocServiceSubType" type="NativeVocService">
	<NativeVocService
		from="VocServiceSubType vsst"
		parent="vst.id = :parent"
		nameId="vsst.id"
		queryAppend="" join="left join VocServiceType vst on vst.code=vsst.serviceType" order=""
		names="vsst.name"
		queried="upper(vsst.name) like upper(:query)"
	/>
</voc>
<voc id="vocTransfusionReason" type="NativeVocService">
	<NativeVocService
		from="VocTransfusionReason vtr"
		parent="vpb.id = :parent"
		nameId="vtr.id"
		queryAppend="" join="left join VocBloodPreparation vpb on vpb.code=vtr.codePreparation" order=""
		names="vtr.name"
		queried="upper(vtr.name) like upper(:query)"
	/>
</voc>
<voc id="vocExtDispHealthGroupByDispType" type="NativeVocService">
	<NativeVocService
		from="VocExtDispHealthGroup vedhg"
		parent="vedhg.dispType_id = :parent"
		nameId="vedhg.id"
		queryAppend="" join="" order=""
		names="vedhg.name"
		queried="upper(vedhg.name) like upper(:query)"
	/>
</voc>
<voc id="vocReportStr" type="NativeVocService">
	<NativeVocService
		    	from=" VocReportSetParameterType "
		    	parent='classname=:parent'
		    	nameId="id"
		    	join=""
		    	queryAppend=""
		    	order=""
		    	queried=" code like upper(:query) or strCode like upper(:querId) "
		    	names = "strCode||'. '||code||'-'||name"
		/>
</voc>
<voc id="vocQualityEstimationCritByKind" type="NativeVocService">
	<NativeVocService
		from="VocQualityEstimationCrit vqec"
		parent="vqec.kind_id = :parent"
		nameId="vqec.id"
		queryAppend="" join="" order=""
		names="vqec.code||' '||vedhg.name"
		queried="upper(vedhg.name) like upper(:query) or upper(vedhg.code) like upper(:query)"
	/>
</voc>
<voc id="vocExtDispAgeReportGroupByDispType" type="NativeVocService">
	<NativeVocService
		from="VocExtDispAgeReportGroup vedhg"
		parent="vedhg.dispType_id = :parent"
		nameId="vedhg.id"
		queryAppend="" join="" order=""
		names="vedhg.name"
		queried="upper(vedhg.name) like upper(:query)"
	/>
</voc>
<voc id="vocExtDispAgeGroupByDispType" type="NativeVocService">
	<NativeVocService
		from="VocExtDispAgeGroup vedhg"
		parent="vedhg.dispType_id = :parent"
		nameId="vedhg.id"
		queryAppend="vedhg.isArchival is null or vedhg.isArchival='0' " join="" order=""
		names="vedhg.name"
		queried="upper(vedhg.name) like upper(:query)"
	/>
</voc>
<voc id="vocExtDispAgeGroupByDispPlan" type="NativeVocService">
	<NativeVocService
		from="VocExtDispAgeGroup vedhg"
		parent="edp.id = :parent"
		nameId="vedhg.id"
		queryAppend="" join="left join ExtDispPlan edp on edp.dispType_id=vedhg.dispType_id " order=""
		names="vedhg.name"
		queried="upper(vedhg.name) like upper(:query)"
	/>
</voc>
<voc id="copyingEquipment" type="NativeVocService">
	<NativeVocService
		from="CopyingEquipment ce"
		nameId="ce.id"
		queryAppend="" join="" order=""
		names="ce.name"
		queried="upper(ce.name) like upper(:query)"
	/>
</voc>
<voc id="priceMedServiceByPriceList" type="NativeVocService">
		<NativeVocService
			from="PriceMedService PMS"
                parent='PP.priceList_id = :parent'
                nameId="PMS.id"
                queryAppend=""
                join="
                	left join PricePosition PP ON PP.id = PMS.pricePosition_id
				"
                order=""
                names   = "PP.code || ' ' || PP.name|| ' ('||PP.cost||')'"
	    		queried=" (upper(PP.code) like upper(:query) or upper(replace(PP.code,'.','')) like upper(:query) or upper(PP.name) like upper(:query)) "
			/>
	</voc>
<voc id="priceMedServiceByContractAccout" type="NativeVocService">
		<NativeVocService
			from="PriceMedService PMS"
                parent='CA.id = :parent'
                nameId="PMS.id"
                queryAppend=""
                join="
                	left join PricePosition PP ON PP.id = PMS.pricePosition_id
					left join MedContract MC ON MC.priceList_id = PP.priceList_id
					left join ServedPerson SP ON SP.contract_id=MC.id
					left join ContractAccount CA ON CA.servedPerson_id=sp.id
				"
                order=""
                names   = "PP.code || ' ' || PP.name|| ' ('||PP.cost||')'"
	    		queried=" (upper(PP.code) like upper(:query) or upper(PP.name) like upper(:query)) "
			/>
	</voc>
		
	<voc id="contractAccountOperation" type="NativeVocService">
		<NativeVocService
			from="ContractAccountOperation CAO"
                parent='CA.id = :parent'
                nameId="CAO.id"
                queryAppend=" "
                join="
					left join ContractAccount CA ON CAO.account_id = CA.id
					left join VocAccountOperation VAO ON  CAO.type_id=VAO.id           
				"
                order=""
                names   = "CAO.id||' '||VAO.name || ' '||to_char(CAO.operationDate,'dd.mm.yyyy')"
	    		queried=" cast(CAO.id as varchar(20)) like :query"
			/>
	</voc>
	
	<voc id='vocAccountOperation' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.contract.voc.VocAccountOperation'
                names   = 'name'
                queried = 'name'
                />
    </voc>
	<voc id='vocIllnesPrimary' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.poly.ejb.domain.voc.VocIllnesPrimary'
                names   = 'name'
                queried = 'code,name'
                queryAppend="(deprecated is null or deprecated=false)"
                />
    </voc>


	<!--
   <voc id='workCalendarPattern' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.workcalendar.WorkCalendarPattern'
                names   = 'info'
                queried = 'name'
       queryConvertType = "UPPER_CASE"
       			 parent = 'w'
                />
    </voc>
	-->
	<voc id="workCalendarPatternByLpu" type="NativeVocService">
		<NativeVocService
			from="WorkCalendarPattern wcp"
                parent='wcp.lpu_id = :parent'
                nameId="wcp.id"
                queryAppend=" wcp.workFunction_id is null "
                join=""
                order=""
                names   = "wcp.name"
	    		queried=" wcp.name like :query"
			/>
	</voc>
	<voc id="workCalendarPattern" type="NativeVocService">
		<NativeVocService
			from="WorkCalendarPattern wcp"
                parent='(wc.id = :parent or wc1.id=:parent)'
                nameId="wcp.id"
                queryAppend=" (wcp.workFunction_id is null or wcp.workFunction_id = wc.workFunction_id)"
                join="
                left join worker w on w.lpu_id=wcp.lpu_id
                left join workfunction wf1 on wf1.lpu_id=wcp.lpu_id and (wf1.DTYPE='GroupWorkFunction' or wf1.DTYPE='OperatingRoom')
                left join workcalendar wc1 on wc1.workfunction_id=wf1.id
                left join workfunction wf on wf.worker_id=w.id and wf.dtype='PersonalWorkFunction'
                left join workcalendar wc on wc.workfunction_id=wf.id
                
				"
                order=""
                names   = "wcp.name"
	    		queried=" (cast(wcp.id as varchar(5)) like :querId or wcp.name like :query) "
	    		groupBy="wcp.id,wcp.name"
			/>
	</voc>

	<voc id="medPolicy" type="NativeVocService">
		<NativeVocService
                from  = 'MedPolicy mp'
                parent=''
                nameId="mp.id"
                queryAppend=""
                join=" left join Patient p on p.id=mp.patient_id "
                order=""
                names   = "mp.series|| ' '||mp.polNumber||' '||p.lastname ||' '|| p.firstname|| ' '|| p.middlename||' г.р. '|| to_char(p.birthday,'DD.MM.YYYY') "
	    		queried=" mp.id like :querId or (mp.series like $piece(:querId,' ',1)||'%' and (mp.polNumber like $piece(:querId,' ',2)||'%' or $piece(:querId,' ',2) is null)) or p.lastname like upper(:querId) or (p.lastname like $piece(upper(:querId),' ',1)||'%' and (p.firstname like $piece(upper(:querId),' ',2)||'%' or $piece(upper(:querId),' ',2) is null) and (p.middlename like $piece(upper(:querId),' ',3)||'%' or $piece(:querId,' ',3) is null))"
	    		
			/>
	</voc>
	<voc id="vocExpertConclusionSent" type="NativeVocService">
		<NativeVocService
                from  = 'VocExpertConclusionSent vecs'
                parent='vec.id=:parent'
                nameId="vecs.id"
                queryAppend="(vecs.noActuality is null or vecs.noActuality='0')"
                join=" left join VocExpertConclusion vec on vec.code=vecs.conclusionCode "
                order=""
                names   = "vecs.name "
	    		queried="(cast(vecs.id as varchar(5)) like :querId or upper(vecs.name) like UPPER(:query))"
	    		
			/>
	</voc>
	<voc id="vocExpertOrderConclusion" type="NativeVocService">
		<NativeVocService
                from  = 'VocExpertOrderConclusion vecs'
                parent='vet.id=:parent'
                nameId="vecs.id"
                queryAppend="(vecs.noActuality is null or vecs.noActuality='0')"
                join=" left join VocExpertType vet on vet.code=vecs.typeCode"
                order=""
                names   = "vecs.name "
	    		queried="(cast(vecs.id as varchar(5)) like :querId or upper(vecs.name) like UPPER(:query))"
	    		
			/>
	</voc>
	<voc id="vocExpertReason" type="NativeVocService">
		<NativeVocService
                from  = 'VocExpertReason vecs'
                parent='vet.id=:parent'
                nameId="vecs.id"
                queryAppend="(vecs.noActuality is null or vecs.noActuality='0')"
                join=" left join VocExpertType vet on vet.code=vecs.typeCode"
                order=""
                names   = "vecs.name "
	    		queried="(cast(vecs.id as varchar(5)) like :querId or upper(vecs.name) like UPPER(:query))"
	    		
			/>
	</voc>
	<voc id="vocExpertConclusion" type="NativeVocService">
		<NativeVocService
                from  = 'VocExpertConclusion vecs'
                parent=''
                nameId="vecs.id"
                queryAppend="(vecs.noActuality is null or vecs.noActuality='0')"
                join=""
                order=""
                names   = "vecs.name "
	    		queried="(cast(vecs.id as varchar(5)) like :querId or upper(vecs.name) like UPPER(:query))"
	    		
			/>
	</voc>
	<voc id="childBirthByMedCase" type="NativeVocService">
		<NativeVocService
                from  = 'ChildBirth cb'
                parent=''
                nameId="cb.id"
                queryAppend=""
                join=""
                order=""
                names   = "to_char(cb.birthFinishDate,'DD.MM.YYYY') "
	    		queried=" mp.id like :querId or (to_char(cb.birthFinishDate,'DD.MM.YYYY') like $piece(:querId,' ',1)||'%'"
	    		
			/>
	</voc>
    <voc id='vocCardIndex' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.poly.ejb.domain.voc.VocCardIndex'
                names   = 'code,name'
                queried = 'code,name'
                 parent = "lpu"
                />
    </voc>
    <voc id='patient' type='NativeVocService'>
        <NativeVocService
                from  = 'Patient p'
                parent=''
                nameId="p.id"
                queryAppend=""
                join=""
                order=""
                names   = "p.lastname ||' '|| p.firstname|| ' '|| p.middlename||' г.р. '|| to_char(p.birthday,'DD.MM.YYYY') "
    		queried=" cast(p.id as varchar(20)) = :querInd or p.lastname like :querId or (p.lastname like :quer1 and (:quer2 is null or p.firstname like :quer2) and (:quer3 is null or p.middlename like :quer3))"
    		queriedSplitCount="3"
        />
    </voc> 
    <!-- Медконтракт -->
    <voc id='servedPerson' type='NativeVocService'>
        <NativeVocService
                from  = 'ServedPerson sp'
    			parent=" sp.contract_id=:parent "
    			names = "CASE WHEN cp.dtype='NaturalPerson' THEN 'Физ.лицо: '||p.lastname ||' '|| p.firstname|| ' '|| p.middlename||' г.р. '|| to_char(p.birthday,'DD.MM.YYYY') when cp.dtype='JuridicalPerson' then 'Юрид.лицо: '||cp.name else ''  END"
    			nameId="sp.id"
    			queryAppend=''
    			join=' left join ContractPerson cp on cp.id=sp.person_id left join patient p on p.id=cp.patient_id '
    			order=''
    			queried = " cast(sp.id as varchar(20)) like :querId  or cp.name like upper(:query) or (p.lastname like :querId or (p.lastname like :quer1 and (:quer2 is null or p.firstname like :quer2) and (:quer3 is null or p.middlename like :quer3)))"
    			
    		queriedSplitCount="3"
                />
    </voc>
    <voc id='priceList' type='NativeVocService'>
    	<NativeVocService
    			from = 'PriceList'
    			parent=""
    			names = "name"
    			nameId="id"
    			queryAppend=''
    			join=''
    			order=''
    			queried = "(id like :query or name like UPPER(:query))"
    			 			
    	/>
    </voc>
    <voc id='contractPerson' type='NativeVocService'>
        <NativeVocService
                from  = 'ContractPerson cp'
    			parent=""
    			names = "CASE WHEN cp.dtype='NaturalPerson' THEN 'Физ.лицо: '||p.lastname ||' '|| p.firstname|| ' '|| p.middlename||' г.р. '|| to_char(p.birthday,'DD.MM.YYYY') ELSE 'Юрид.лицо: '||cp.name END"
    			nameId="cp.id"
    			queryAppend=''
    			join=' left join patient p on p.id=cp.patient_id'
    			order=''
    			queried = " cast(cp.id as varchar(10)) like :querId or UPPER(cp.name) like :query 
    				or 
    				p.lastname like upper(:querId) 
    				or 
    				(p.lastname like upper(:quer1) and (p.firstname like upper(:quer2) 
    				or 
    				:quer2='%') and (p.middlename like upper(:quer3)
    				 or :quer3='%')) "
    			queriedSplitCount="3"
                />
    </voc>
    <voc id='contractNosologyGroup' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.contract.ContractNosologyGroup'
                names   = 'name'
                queried = 'name'
                />
    </voc>
    <voc id='contractMedServiceGroup' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.contract.ContractMedServiceGroup'
                names   = 'name'
                queried = 'name'
                />
    </voc>
    <voc id='contractGuaranteeGroup' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.contract.ContractGuaranteeGroup'
                names   = 'name'
                queried = 'name'
                />
    </voc>
    
    <!--  -->
    <voc id='vocPermission' type='NativeVocService'>
    	<NativeVocService
    			from = 'vocPermission vp'
    			parent=" (vp.object_id=:parent or (vop1.id=:parent and vp.object_id is null))"
    			names = "vp.name"
    			nameId="vp.id"
    			queryAppend=''
    			join=' left join VocObjectPermission vop on vop.id=vp.object_id left join VocObjectPermission vop1 on vop1.code=vp.objectCode'
    			order=''
    			queried = "(cast(vp.id as varchar(20)) like :querId or vp.name like UPPER(:query))"
    			 			
    	/>
    </voc>
    <voc id='vocObjectPermission' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.jaas.ejb.domain.voc.VocObjectPermission'
                names   = 'name'
                queried = 'name'
                />
    </voc>

	<voc id="vocEncodingSystem" type="EntityVocService">
		<EntityVocService 
			entity="ru.ecom.mis.ejb.domain.identification.voc.VocEncodingSystem" 
			names="name" 
			queried="name"
			/>
	</voc>
    <voc id='lpu' type='AllValueHelper'>
        <IAllValue>ru.ecom.mis.ejb.service.lpu.LpuAllValueVoc</IAllValue>
    </voc>
    
    <voc id='medService' type='NativeVocService'>
    	<NativeVocService
    			from = 'MedService'
    			parent=""
    			names = "code||' '||name"
    			nameId="id"
    			queryAppend="dtype='MedService' and finishdate is null"
    			join=''
    			order=''
    			queried = "(cast(id as varchar(10)) like :query or name like UPPER(:query) or code like UPPER(:query))"
    			parentSplitCount="2"
    			 			
    	/>
    
    </voc>
    <voc id='medServiceAll' type='NativeVocService'>
    	<NativeVocService
    			from = 'MedService'
    			parent=""
    			names = "code||' '||name"
    			nameId="id"
    			queryAppend="dtype='MedService' and finishDate is null"
    			join=''
    			order=''
    			queried = "((cast(id as varchar(10)) like :query or name like UPPER(:query)) or (replace(upper(code),'.','') like (upper(:query))) or upper(name) like upper(:query) or upper(code) like upper(:query))"
    			 			
    	/>
    
    </voc>

    <voc id='medServiceForSpec' type='NativeVocService'>
    	<NativeVocService
    			from = 'MedService ms'
    			parent="wf.id=:par1 
    			and (ms.startDate is null or to_date(:par2,'dd.mm.yyyy')  >=ms.startDate) 
    			and (ms.finishDate is null or ms.finishDate>=to_date(:par2,'dd.mm.yyyy'))"
    			parentSplitCount='2'
    			names = "ms.code||' '||ms.name"
    			nameId="ms.id"
    			queryAppend="ms.dtype='MedService' and ms.isPoliclinic='1'"
    			join=' left join WorkFunctionService wfs on wfs.medService_id=ms.id left join WorkFunction wf on wf.workFunction_id=wfs.vocWorkFunction_id '
    			order=''
    			queried = "(upper(ms.code) like upper(:query) or upper(ms.code) like replace(upper(:query),'.','') or upper(ms.name) like UPPER(:query))"
    			 			
    	/>
    
    </voc>
    <voc id='medServiceByVocWorkFunction' type='NativeVocService'>
    	<NativeVocService
    			from = 'MedService ms'
    			parent="wfs.vocWorkFunction_id=:parent 
    			and (ms.startDate is null or current_date  >=ms.startDate) 
    			and (ms.finishDate is null or ms.finishDate>=current_date)"
    			names = "ms.code||' '||coalesce(case when ms.shortname='' then null else ms.shortname end,ms.name)"
    			nameId="ms.id"
    			queryAppend="ms.dtype='MedService' and ms.isPoliclinic='1'"
    			join=' left join WorkFunctionService wfs on wfs.medService_id=ms.id '
    			order=''
    			queried = "(upper(ms.code) like upper(:query) or upper(ms.code) like replace(upper(:query),'.','') or upper(ms.name) like UPPER(:query) or upper(ms.shortname) like UPPER(:query)) "
    			 			
    	/>
    
    </voc>
    <voc id='medServiceForDirect1' type='NativeVocService'>
    	<NativeVocService
    			from = 'MedService ms'
    			parent="wf.id=:parent 
    			and (wfs.lpu_id is null or wf.dtype='PersonalWorkFunction' and wfs.lpu_id=w.lpu_id or wf.dtype='GroupWorkFunction' and wfs.lpu_id=wf.lpu_id )
    			and (ms.startDate is null or CURRENT_DATE  >= ms.startDate) 
    			and (ms.finishDate is null or ms.finishDate >= CURRENT_DATE)
    			"
    			
    			names = "ms.code||' '||ms.name"
    			nameId="ms.id"
    			queryAppend="ms.dtype='MedService' and ms.isPoliclinic='1'"
    			join=' left join WorkFunctionService wfs on wfs.medService_id=ms.id left join WorkFunction wf on wf.workFunction_id=wfs.vocWorkFunction_id left join worker w on w.id=wf.worker_id'
    			order=''
    			queried = "(upper(ms.code) like upper(:query) or upper(ms.code) like replace(upper(:query),'.','') or upper(ms.name) like UPPER(:query))"
    			 			
    	/>
    
    </voc>
    <voc id='medServiceForDirect' type='NativeVocService'>
    	<NativeVocService
    			from = 'MedService ms'
    			parent="m.id=:parent 
    			and (wfs.lpu_id is null or wf.dtype='PersonalWorkFunction' and wfs.lpu_id=w.lpu_id or wf.dtype='GroupWorkFunction' and wfs.lpu_id=wf.lpu_id )
    			and (ms.startDate is null or wcd.calendardate  >=ms.startDate) 
    			and (ms.finishDate is null or ms.finishDate>=wcd.calendardate)
    			"
    			
    			names = "ms.code||' '||ms.name"
    			nameId="ms.id"
    			queryAppend="ms.dtype='MedService' and ms.isPoliclinic='1'"
    			join=' left join WorkFunctionService wfs on wfs.medService_id=ms.id left join WorkFunction wf on wf.workFunction_id=wfs.vocWorkFunction_id left join medcase m on m.workFunctionPlan_id=wf.id left join WorkCalendarDay wcd on wcd.id=m.datePlan_id left join worker w on w.id=wf.worker_id'
    			order=''
    			queried = "(upper(ms.code) like upper(:query) or upper(ms.code) like replace(upper(:query),'.','') or upper(ms.name) like UPPER(:query))"
    			 			
    	/>
    
    </voc>
    <voc id='medServiceDop' type='NativeVocService'>
    	<NativeVocService
    			from = 'MedService'
    			names = "name||'(' || COALESCE(to_char(startDate,'DD.MM.YYYY'),'нет даты')
||'-'||COALESCE(TO_CHAR(finishDate,'DD.MM.YYYY'),'нет даты') ||')'"
    			nameId="id"
    			queryAppend="dtype='MedService'"
    			join=''
    			order=''
    			queried = "(id like :querId or name like UPPER(:query))"
    			 			
    	/>
    
    </voc>
    <voc id='pregnancyByWoman' type='AllValueHelper'>
        <IAllValue>ru.ecom.mis.ejb.service.birth.PregnancyByWomanVoc</IAllValue>
    </voc>
    <voc id='pregnancyByPatient' type="NativeVocService">
    	<NativeVocService
    			from = 'Pregnancy preg'
    			names = "'Беременность: '||preg.orderNumber||' роды: '||preg.childbirthAmount"
    			nameId="preg.id"
    			queryAppend=''
    			parent=" pat.id=:parent "
    			join=' left join Patient pat on pat.id=preg.patient_id'
    			order=''
    			queried = " (cast(preg.id as varchar(20)) like :querId or cast(preg.orderNumber as varchar(5)) like :querId)"
    	/>
    </voc>
    

   <voc id='mainLpu' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.lpu.MisLpu'
                names   = 'omcCode,name'
                queried = 'name'
            queryAppend = 'parent_id is null'
       queryConvertType = "UPPER_CASE"                
                />
    </voc>

    <voc id='groupWorkFunction' type='AllValueHelper'>
    	  <IAllValue>ru.ecom.mis.ejb.service.worker.GroupWorkFunctionVoc</IAllValue>
    </voc>
    
        
   <voc id='vocWorkCalendarType' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.workcalendar.voc.VocWorkCalendarType'
                names   = 'name'
                queried = 'name'
       queryConvertType = "UPPER_CASE"
                />
    </voc>
   <voc id='vocWorkPlaceLevel' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.lpu.voc.VocWorkPlaceLevel'
                names   = 'name'
                queried = 'name'
                />
    </voc>
    
   <voc id='vocDisabilityDocumentType' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.disability.voc.VocDisabilityDocumentType'
                names   = 'name'
                queried = 'name'
                queryConvertType = 'UPPER_CASE'
                />
    </voc>
   <voc id='vocDisabilityStatus' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.disability.voc.VocDisabilityStatus'
                names   = 'name'
                queried = 'name'
                queryConvertType = 'UPPER_CASE'
                />
    </voc>
   <voc id='vocDisabilityStatusForDuplicate' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.disability.voc.VocDisabilityStatus'
                names   = 'name'
                queried = 'name'
                queryAppend="code!='0'"
                queryConvertType = 'UPPER_CASE'
                />
    </voc>
   <voc id='vocLpuFunction' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.lpu.voc.VocLpuFunction'
                names   = 'name'
                queried = 'name'
                />
    </voc>

    <voc id='lpuArea' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.lpu.LpuArea'
                names   = 'typeName,number'
                queried = 'number'
                />
    </voc>

    <voc id='lpuAreaWithParent' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.lpu.LpuArea'
                names   = 'typeName,number,comment'
                parent  = 'lpu'
                queried = 'number,comment'
                />
    </voc>
    <voc id='kinsmanByTicket' type='NativeVocService'>f
		    <NativeVocService
		    	from=" Kinsman as k "
		    	parent='k.person_id=(select m.person_id from medcard m where m.id=:parent)'
		    	nameId="k.id"
		    	join=" left join Patient as pk on pk.id=k.kinsman_id "
		    	queryAppend=""
		    	order=""
		    	queried=" pk.lastname like UPPER(:query) "
		    	names = " pk.lastname ||' '|| pk.firstname ||' '|| pk.middlename ||' гр ' || to_char(pk.birthday,'DD.MM.YYYY')"
		    />

    </voc>
    <voc id='kinsmanBySMO' type='NativeVocService'>
		    <NativeVocService
		    	from=" Kinsman as k "
		    	parent='k.person_id=:parent '
		    	nameId="k.id"
		    	join=" left join Patient as pk on pk.id=k.kinsman_id "
		    	queryAppend=""
		    	order=""
		    	queried=" pk.lastname like UPPER(:query) "
		    	names = " pk.lastname ||' '|| pk.firstname ||' '|| pk.middlename ||' гр ' || to_char(pk.birthday,'DD.MM.YYYY')"
		    />

    </voc>
    <voc id='kinsmanByDis' type='NativeVocService'>
		    <NativeVocService
		    	from=" Kinsman as k "
		    	parent='(k.person_id=:parent or  k.kinsman_id=:parent)'
		    	nameId="k.id"
		    	join="
		    	 left join Patient as pk on pk.id=k.kinsman_id 
		    	 left join Patient as pk1 on pk1.id=k.person_id 
		    	"
		    	queryAppend=""
		    	order=""
		    	queried=" pk.lastname like UPPER(:query) "
		    	names = " pk.lastname||'('||pk1.lastname||')' ||' '|| pk.firstname ||' '|| pk.middlename ||' гр ' || to_char(pk.birthday,'DD.MM.YYYY')"
		    />

    </voc>

    <voc id='lpuAreaAddressText' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.lpu.LpuAreaAddressText'
                names   = 'AddressText'
                queried = 'id'
                />
    </voc>


    <voc id='vocSex' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.patient.voc.VocSex'
                names   = 'name'
                queried = 'name'
                />
    </voc>

    <voc id='vocSocialStatus' type='NativeVocService'>
		    <NativeVocService
		    	from=" VocSocialStatus "
		    	parent=''
		    	nameId="id"
		    	join=""
		    	queryAppend=""
		    	order=""
		    	queried=" (omcCode like (:query) or name like UPPER(:query) or cast(id as varchar(20)) like (:querId)) "
		    	names = " omcCode ||' '|| name"
		    />
    </voc>
    <voc id='vocAdditionStatus' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.patient.voc.VocAdditionStatus'
                names   = 'name'
                queried = 'name'
                />
    </voc>

    <voc id='vocInsuranceCompany' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.expomc.ejb.domain.registry.RegInsuranceCompany'
                names   = 'omcCode,name'
                queried = 'omcCode,name'
                queryAppend = '(deprecated is null or deprecated = false) and (isRegion=true)'
                />
    </voc>
    <voc id='vocInsuranceCompanyAll' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.expomc.ejb.domain.registry.RegInsuranceCompany'
                names   = 'omcCode,name'
                queried = 'omcCode,name'
                queryAppend = '(deprecated is null or deprecated = false)'
                />
    </voc>

    <voc id='vocOrg' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.patient.voc.VocOrg'
                names   = 'oldFondNumber,name,fondNumber'
                queried = 'oldFondNumber,name,fondNumber'
                queryConvertType="UPPER_CASE"
                />
    </voc>

    <voc id='vocPassportWhomIssue' type="NativeVocService">
    	<NativeVocService
    			from = 'VocPassportWhomIssue vpwi'
    			names = "vpwi.code||' '||vpwi.name"
    			nameId="vpwi.id"
    			queryAppend=''
    			parent=""
    			join=''
    			order=''
    			queried = " (vpwi.code like :querId or vpwi.name like :query)"
    	/>

    </voc>
    <voc id='vocPassportBirthPlace' type="NativeVocService">
    	<NativeVocService
    			from = 'VocPassportBirthPlace vpbp'
    			names = "vpbp.name"
    			nameId="vpbp.id"
    			queryAppend=''
    			parent=""
    			join=''
    			order=''
    			queried = " (vpbp.name like :query)"
    	/>

    </voc>

    <voc id='Address-1' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.address.ejb.domain.address.Address'
                names   = 'name'
                queried = 'name'
                queryAppend = 'domen = 1'
       queryConvertType = 'FIRST_UPPER'
                />
    </voc>

    <voc id='Address-2' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.address.ejb.domain.address.Address'
                names   = 'name,typeName'
                queried = 'name'
                parent  = 'parent'
                queryAppend = 'domen = 2'
                queryConvertType = 'FIRST_UPPER'
                />
    </voc>

    <voc id='Address-3' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.address.ejb.domain.address.Address'
                names   = 'name,typeName'
                queried = 'name'
                parent  = 'parent'
                queryAppend = 'domen = 3'
                queryConvertType = 'FIRST_UPPER'
                />
    </voc>

    <voc id='Address-4' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.address.ejb.domain.address.Address'
                names   = 'name,typeName'
                queried = 'name'
                parent  = 'parent'
                queryAppend = 'domen = 4'
                queryConvertType = 'FIRST_UPPER'
                />
    </voc>

    <voc id='Address-5' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.address.ejb.domain.address.Address'
                names   = 'name,typeName'
                queried = 'name'
                parent  = 'parent'
                queryAppend = 'domen = 5'
                queryConvertType = 'FIRST_UPPER'
                />
    </voc>

    <voc id='Address-6' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.address.ejb.domain.address.Address'
                names   = 'name,typeName,postIndex'
                queried = 'name'
                parent  = 'parent'
                queryAppend = 'domen = 6'
                queryConvertType = 'FIRST_UPPER'
                />
    </voc>

    <voc id='vocAreaType' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.lpu.voc.VocAreaType'
                names   = 'name'
                queried = 'name'
                />
    </voc>

    <!-- Тип удостоверения личности -->
    <voc id='vocIdentityCard' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.patient.voc.VocIdentityCard'
                names   = 'name'
                queried = 'name'
            queryAppend = "(deprecated is null or deprecated=true)"
                />
    </voc>


    <!-- Лицензии -->
    <voc id='vocStatus' type='EntityVocService'>
         <EntityVocService
                 entity  = 'ru.ecom.mis.ejb.domain.licence.voc.VocStatus'
                 names   = 'name'
                 queried = 'name'
                 queryConvertType = 'FIRST_UPPER'
                 />
     </voc>
     <voc id='=vocUrMember' type='EntityVocService'>
         <EntityVocService
                 entity  = 'ru.ecom.mis.ejb.domain.licence.voc.VocUrMember'
                 names   = 'name'
                 queried = 'name'
                 queryConvertType = 'FIRST_UPPER'
                 />
     </voc>

     <voc id='vocTypeWork' type='EntityVocService'>
         <EntityVocService
             entity  = 'ru.ecom.mis.ejb.domain.licence.voc.VocTypeWork'
             names   = 'name'
             queried = 'name'
             queryConvertType = 'FIRST_UPPER'
             />
     </voc>



    <!-- Оборудование -->
    <voc id='vocTypeEquip' type='EntityVocService'>
         <EntityVocService
                 entity  = 'ru.ecom.mis.ejb.domain.equipment.voc.VocTypeEquip'
                 names   = 'name'
                 queried = 'name'
                 />
     </voc>

     <voc id='vocMarka' type='EntityVocService'>
         <EntityVocService
                 entity  = 'ru.ecom.mis.ejb.domain.equipment.voc.VocMarka'
                 names   = 'name'
                 queried = 'name'
                 />
     </voc>

     <voc id='vocCreater' type='EntityVocService'>
         <EntityVocService
                 entity  = 'ru.ecom.mis.ejb.domain.equipment.voc.VocCreater'
                 names   = 'name'
                 queried = 'name'
                 />
     </voc>

     <voc id='vocProvider' type='EntityVocService'>
         <EntityVocService
                 entity  = 'ru.ecom.mis.ejb.domain.equipment.voc.VocProvider'
                 names   = 'name'
                 queried = 'name'
                 />
     </voc>
    
     <voc id='vocPrivilegeCategory' type='EntityVocService'>
         <EntityVocService
                 entity  = 'ru.ecom.mis.ejb.uc.privilege.domain.VocPrivilegeCategory'
                 names   = 'name'
                 queried = 'name'
                 />
     </voc>

     <voc id='vocPrivilegeCode' type='EntityVocService'>
         <EntityVocService
                 entity  = 'ru.ecom.mis.ejb.uc.privilege.domain.VocPrivilegeCode'
                 names   = 'code,name'
                 queried = 'code,name'
                 />
     </voc>

     <voc id='vocDrugForm' type='EntityVocService'>
         <EntityVocService
                 entity  = 'ru.ecom.mis.ejb.uc.privilege.domain.VocDrugForm'
                 names   = 'code,name'
                 queried = 'code,name'
                 />
     </voc>
     <voc id='vocDrugClassify' type='EntityVocService'>
         <EntityVocService
                 entity  = 'ru.ecom.mis.ejb.uc.privilege.domain.VocDrugClassify'
                 names   = 'code,name'
                 queried = 'code,name'
                 />
     </voc>
     <voc id='drugClassificator' type='EntityVocService'>
         <EntityVocService
                 entity  = 'ru.ecom.mis.ejb.uc.privilege.domain.DrugClassificator'
                 names   = 'name'
                 queried = 'name'
                 />
     </voc>
     <voc id='vocDloDoctor' type='EntityVocService'>
         <EntityVocService
                 entity  = 'ru.ecom.mis.ejb.uc.privilege.domain.VocDloDoctor'
                 names   = 'code,name'
                 queried = 'code,name'
                 />
     </voc>

    <voc id='policyByPatient' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.patient.MedPolicyOmc'
                names   = 'text'
                parent  = 'patient'
                queried = 'polNumber'
                />
    </voc>
        <!-- Вакцинация -->
    <voc id='vaccineVocCommonReaction' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.vaccination.voc.VaccineVocCommonReaction'
                names   = 'name'
                queried = 'name'
                />
    </voc>  
    <voc id='vocVaccinationReaction' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.vaccination.voc.VocVaccinationReaction'
                names   = 'name'
                queried = 'name'
                />
    </voc>  
    <voc id='vocVaccinationCommonReaction' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.vaccination.voc.VocVaccinationCommonReaction'
                names   = 'name'
                queried = 'name'
                />
    </voc>    
    <voc id='vaccineVocLocalReaction' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.vaccination.voc.VaccineVocLocalReaction'
                names   = 'name'
                queried = 'name'
                />
    </voc> 
    <voc id='vocVaccinationLocalReaction' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.vaccination.voc.VocVaccinationLocalReaction'
                names   = 'name'
                queried = 'name'
                />
    </voc> 
    <voc id='vocVaccinationMaterial' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.vaccination.voc.VocVaccinationMaterial'
                names   = 'name'
                queried = 'name'
                 parent  = 'vaccine'  
                />
    </voc> 
    <voc id='vaccineVocMethod' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.vaccination.voc.VaccineVocMethod'
                names   = 'name'
                queried = 'name'
                />
    </voc> 
    <voc id='vocVaccinationMethod' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.vaccination.voc.VocVaccinationMethod'
                names   = 'name'
                queried = 'name'
       queryConvertType = 'UPPER_CASE'
                />
    </voc> 
    <voc id='vocVaccinationPhase' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.vaccination.voc.VocVaccinationPhase'
                names   = 'name'
                queried = 'name'
       queryConvertType = 'UPPER_CASE'
                />
    </voc> 

    <voc id='vocVaccinationReasonType' type='EntityVocService'>
        <EntityVocService                                         
                entity  = 'ru.ecom.mis.ejb.domain.vaccination.voc.VocVaccinationReasonType'
                names   = 'name'
                queried = 'name'
       queryConvertType = 'UPPER_CASE'
                />
    </voc>
    <voc id='vocEstopType' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.vaccination.voc.VocVaccinationEstopType'
                names   = 'name'
                queried = 'name'
                />
    </voc> 
    <voc id='vaccine' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.vaccination.Vaccine'
                names   = 'name'
                queried = 'name'
       queryConvertType = 'UPPER_CASE'
                
                />
    </voc> 
    <voc id='vaccineVocNosology' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.vaccination.voc.VaccineVocNosology'
                names   = 'name'
                queried = 'name'
                />
    </voc>     
    <voc id='vaccinationNosology' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.vaccination.VaccinationNosology'
                names   = 'name'
                queried = 'name'
                />
    </voc>     
    <!--Сотрудник-->
    <voc id='vocWorker' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.worker.Worker'
                names   = 'person.lastname, person.firstname, person.middlename'
                queried = 'person.lastname, person.firstname, person.middlename'
                />
    </voc> 

	<!-- День календаря по функции -->
  <!--   <voc id='vocWorkCalendarDayByWorkFunction' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.workcalendar.WorkCalendarDay'
                names   = 'calendarDate'
                queried = 'calendarDate'
                parent  = 'workCalendar.workFunction'
        />
     </voc>  -->
     <voc id='vocWorkCalendarDayByWorkFunction' type='NativeVocService'>
    	<NativeVocService
    			from = 'WorkCalendarDay as wcd '
    			parent = " wc.workFunction_id = :parent "
    			names  = "to_char(wcd.calendarDate,'DD.MM.YYYY')"
    			queried =" (to_char(wcd.calendarDate,'DD.MM.YYYY') like :query ) "
    			queryAppend = ""
    			order =''
    			nameId='wcd.id'
    			join='left join WorkCalendar as wc on wc.id=wcd.workCalendar_id '
    	/>
    </voc>
     <voc id='disabilityDocumentByCase'  type='EntityVocService'>
     	<EntityVocService
     			entity='ru.ecom.mis.ejb.domain.disability.DisabilityDocument'
     			names = 'series,number'
     			queried="number"
     			parent = 'disabilityCase_id'
     	/>
     </voc>
     <voc id='disabilityDocumentByPatient'  type='NativeVocService'>
    	<NativeVocService
    			from = 'DisabilityDocument as dd '
    			parent = " dc.patient_id = :parent "
    			names  = " dd.number "
    			queried =" (dd.number like :query ) "
    			queryAppend = " "
    			order =''
    			nameId='dd.id'
    			join=' left join DisabilityCase dc on dc.id=dd.disabilityCase_id'
    	/>
     </voc>
     
     <!-- Время календаря по дню -->
    <!-- <voc id='vocWorkCalendarTimeWorkCalendarDay' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.workcalendar.WorkCalendarTime'
                names   = 'timeFrom'
                queried = ''
                parent  = 'workCalendarDay'
            queryAppend = 'medCase_id is null'
        />
     </voc> -->
     <voc id='vocWorkCalendarTimeWorkCalendarDay' type='NativeVocService'>
    	<NativeVocService
    			from = 'WorkCalendarTime as wct '
    			parent = " wct.workCalendarDay_id = :parent "
    			names  = " cast(wct.timeFrom as varchar(5)) "
    			queried =" (cast(wct.timeFrom as varchar(5)) like :query ) "
    			queryAppend = " wct.medCase_id is null and wct.prescription is null and wct.prepatient_id is null and (wct.prepatientinfo is null or wct.prepatientinfo='') and vsrt.id is null"
    			order =''
    			nameId='wct.id'
    			join=' left join VocServiceReserveType vsrt on vsrt.id=wct.reserveType_id'
    	/>
    </voc>
     <voc id='workCalendarTimeByDate' type='NativeVocService'>
    	<NativeVocService
    			from = 'WorkCalendarTime as wct '
    			parent = " wc.workFunction_id = :par1 and wcd.calendarDate = to_date(:par2,'dd.mm.yyyy')"
    			names  = " to_char(wcd.calendarDate,'dd.mm.yyyy')||' '||cast(wct.timeFrom as varchar(5)) "
    			queried =" (cast(wct.timeFrom as varchar(5)) like :query ) "
    			queryAppend = " wct.medCase_id is null and wct.prescription is null and wct.prepatient_id is null and (wct.prepatientinfo is null or wct.prepatientinfo='')"
    			order =''
    			nameId='wct.id'
    			join=' left join WorkCalendarDay wcd on wcd.id=wct.workCalendarDay_id left join WorkCalendar wc on wc.id=wcd.workCalendar_id'
    			parentSplitCount="2"
    			
    	/>
    </voc>
    <!-- Открытые СПО у пациента -->
    <voc id='vocOpenedSpoByPatient' type='NativeVocService'>
    	<NativeVocService
    			from = 'MedCase as smc '
    			parent = 'smc.patient_id=:parent'
    			names  = "coalesce(to_char(smc.dateStart,'dd.mm.yyyy'),'нет даты начала ')||coalesce('-'||to_char(smc.dateFinish,'dd.mm.yyyy'),'')||' '||vwf.name||' '|| p.lastname||' '||p.firstname||' '||p.middlename "
    			queried =" (cast(wf.id as varchar(20))= :querId or vwf.name like UPPER(:query) or p.lastname like UPPER(:query) )"
    			queryAppend = " smc.dtype='PolyclinicMedCase' and smc.dateFinish is null "
    			order =''
    			nameId='smc.id'
    			join='left join WorkFunction wf on wf.id=smc.ownerFunction_id left join Worker as w on w.id=wf.worker_id left join Patient as p on p.id=w.person_id left join VocWorkFunction vwf on vwf.id=wf.workFunction_id'
    	/>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.medcase.PolyclinicMedCase'
                names   = 'dateStart,dateFinish,ownerFunction.workFunctionInfo'
                queried = 'ownerFunction.worker.person.lastname'
            queryAppend = 'dateFinish is null'
                parent  = 'patient_id'
        />
     </voc> 


	<!-- Рабочая функция -->

    <voc id='workFunction' type='NativeVocService'>
    	<NativeVocService
    			from = 'WorkFunction as wf '
    			parent = ''
    			names  = "vwf.name||' '|| p.lastname||' '||p.firstname||' '||p.middlename ||' ' ||case when wf.dtype='PersonalWorkFunction' then ml2.name else ml1.name end"
    			queried =" (cast(wf.id as varchar(20))= :querInd or vwf.name like UPPER(:quer1) or p.lastname like :quer1 or (p.lastname like :quer1 and (:quer2 is null or p.firstname like :quer2) and (:quer3 is null or p.middlename like :quer3)) )"
    			queryAppend = " wf.dtype='PersonalWorkFunction' and (wf.archival is null or wf.archival='0')"
    			queriedSplitCount="3"
    			order =''
    			nameId='wf.id'
    			join='left join Worker as w on w.id=wf.worker_id 
    			left join MisLpu ml1 on ml1.id=wf.lpu_id
    			left join MisLpu ml2 on ml2.id=w.lpu_id
    			
    			left join Patient as p on p.id=w.person_id 
    			left join VocWorkFunction vwf on vwf.id=wf.workFunction_id'
    	/>
    </voc>      
    <voc id='workFunctionByDirect' type='NativeVocService'>
    	<NativeVocService
    			from = 'WorkFunction as wf '
    			parent = ''
    			names  = "vwf.name||' '||case when w.person_id is null then wf.groupName||' ('||mlGr.name||')' else p.lastname||' '||p.firstname||' '||p.middlename||' ('||mlW.name||')' end "
    			queried =" (cast(wf.id as varchar(20)) = :querInd or vwf.name like UPPER(:query) or p.lastname like UPPER(:query) or wf.groupName like UPPER(:query) )"
    			queryAppend = "wc.id is not null and wf.group_id is null and (wf.archival is null or wf.archival='0')"
    			order =''
    			nameId='wf.id'
    			join='left join Worker as w on w.id=wf.worker_id left join Patient as p on p.id=w.person_id inner join VocWorkFunction vwf on vwf.id=wf.workFunction_id left join WorkCalendar wc on wc.workFunction_id=wf.id left join mislpu mlGr on mlGr.id=wf.lpu_id left join mislpu mlW on mlW.id=w.lpu_id '
    	/>
    </voc>
   <voc id='role' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.jaas.ejb.domain.SecRole'
                names   = 'key,name'
                queried = 'key,name'
       queryConvertType = "UPPER_CASE"                
       			 parent = ""
                />
    </voc>
    <voc id='workFunctionByTicket' type='NativeVocService'>
    	<NativeVocService
    			from = 'WorkFunction as wf '
    			parent = " (select m.id from medcard as m where m.id=:parent and (m.lpu_id is null or w.lpu_id=m.lpu_id))>0 "
    			names  = "vwf.name||' '|| p.lastname||' '||p.firstname||' '||p.middlename ||' ('||ml.name||')'"
    			queried =" (cast(wf.id as varchar(6)) like :querId or wf.code like :querId or p.lastname like UPPER(:query)) "
    			queryAppend = "wf.DTYPE ='PersonalWorkFunction' and (wf.archival is null or wf.archival='0')"
    			order =''
    			nameId='wf.id'
    			join='left join Worker as w on w.id=wf.worker_id left join Patient as p on p.id=w.person_id left join VocWorkFunction vwf on vwf.id=wf.workFunction_id left join MisLpu ml on ml.id=w.lpu_id'
    	/>
    </voc>
    <voc id='workFunctionByLpu' type='NativeVocService'>
    	<NativeVocService
    			from = 'WorkFunction as wf '
    			parent = "  (w.lpu_id=:parent) "
    			names  = "case when wf.code is null then '' else wf.code||' ' end || vwf.name||' '|| p.lastname||' '||p.firstname||' '||p.middlename "
    			queried =" (cast(wf.id as varchar(10)) like :querId or wf.code like :querId or p.lastname like UPPER(:query)) "
    			queryAppend = "wf.DTYPE ='PersonalWorkFunction' and (wf.archival is null or cast(wf.archival as integer)=0)"
    			order =''
    			nameId='wf.id'
    			join='left join Worker as w on w.id=wf.worker_id left join Patient as p on p.id=w.person_id inner join VocWorkFunction vwf on vwf.id=wf.workFunction_id '
    	/>
    </voc>
    <voc id='workFunctionIsSurgical' type='NativeVocService'>
    	<NativeVocService
    			from = 'WorkFunction as wf '
    			parent = ""
    			names  = "case when wf.code is null then '' else wf.code||' ' end || vwf.name||' '|| p.lastname||' '||p.firstname||' '||p.middlename "
    			queried =" (cast(wf.id as varchar(10)) like :querId or wf.code like :querId or p.lastname like UPPER(:query)) "
    			queryAppend = "wf.DTYPE ='PersonalWorkFunction' and (wf.archival is null or wf.archival='0') and (wf.isSurgical='1')"
    			order =''
    			nameId='wf.id'
    			join='left join Worker as w on w.id=wf.worker_id left join Patient as p on p.id=w.person_id inner join VocWorkFunction vwf on vwf.id=wf.workFunction_id '
    	/>
    </voc>
    <voc id='workFunctionIsInstrumentNurse' type='NativeVocService'>
    	<NativeVocService
    			from = 'WorkFunction as wf '
    			parent = ""
    			names  = "case when wf.code is null then '' else wf.code||' ' end || vwf.name||' '|| p.lastname||' '||p.firstname||' '||p.middlename "
    			queried =" (cast(wf.id as varchar(10)) like :querId or wf.code like :querId or p.lastname like UPPER(:query)) "
    			queryAppend = "wf.DTYPE ='PersonalWorkFunction' and (wf.archival is null or wf.archival='0') and (wf.isInstrumentNurse='1')"
    			order =''
    			nameId='wf.id'
    			join='left join Worker as w on w.id=wf.worker_id left join Patient as p on p.id=w.person_id inner join VocWorkFunction vwf on vwf.id=wf.workFunction_id '
    	/>
    </voc>
    <voc id="medcardLast" type="NativeVocService">
    	<NativeVocService
    		from="Medcard m"
    		nameId="m.id"
    		queryAppend=""
    		names="m.number || ' '||COALESCE(vci.name,'')"
    		queried="m.number like UPPER(:query)"
    		join="left join VocCardIndex vci on vci.id=m.cardIndex_id"
    	/>
    </voc>
    <voc id="psychiatricCareCard" type="NativeVocService">
    	<NativeVocService
    		from="PsychiatricCareCard pcc"
    		names="pcc.cardNumber ||' '||  coalesce((select vpac.code||' '||to_char(po.startDate,'dd.mm.yyyy') from PsychiaticObservation po left join VocPsychAmbulatoryCare vpac on vpac.id=po.ambulatoryCare_id where po.carecard_id=pcc.id  having po.startDate=max(po.startDate)),'-')"
    		nameId="pcc.id"
    		join=""
    		queried="pcc.cardNumber like UPPER(:query)"
    		
    	/>
    </voc>

    			<!-- parent = " ( (select m.lpu_id from medcard as m where m.id=:parent) is null or w.lpu_id=(select m.lpu_id from medcard as m where m.id=:parent) )" -->
    <voc id='workFunctionByDoctor' type='NativeVocService'>
    	<NativeVocService
    			from = 'WorkFunction as wf '
    			parent=' wf1.id = :parent '
    			names  = "vwf.name||' '|| p.lastname||' '||p.firstname||' '||p.middlename "
    			queried =" (wf.id like :query or p.lastname like UPPER(:query)) "
    			queryAppend = "wf.DTYPE ='PersonalWorkFunction' and (wf.archival is null or cast(wf.archival as integer)=0)"
    			order =''
    			nameId='wf.id'
    			join='left join WorkFunction wf1 on wf1.worker_id=wf.worker_id left join SecUser su on su.id=wf1.secuser_id left join Worker as w on w.id=wf.worker_id left join Patient as p on p.id=w.person_id inner join VocWorkFunction vwf on vwf.id=wf.workFunction_id '
    			
    	/>
    </voc>

    
   <voc id='omcSprSmo' type='NativeVocService'>
		    <NativeVocService
		    	from=" OMC_SPRSMO as oss "
		    	parent='okt.id=:parent'
		    	nameId="oss.id"
		    	join=" left join Omc_KodTer as okt on okt.okato=oss.fondOkato "
		    	queryAppend=" oss.smoCode is not null"
		    	order=""
		    	queried=" oss.name like UPPER(:query) "
		    	names = " oss.name"
		    />

    </voc>
    
    <voc id='mainSMO' type="NativeVocService">
    	<NativeVocService
    		from = ' MedCase as smo '
    		parent=' smo.patient_id=:parent '
    		names=" case when smo.dtype='POLYCLINICMEDCASE' then 'СПО: '||smo.id when smo.dtype='HOSPITALMEDCASE' and smo.statisticstub_id is not null then 'СЛС: '||ss.code else 'СЛС: нет №стат.карты' end" 
    		nameId=" smo.id "
    		queried=" ss.code like :query or smo.id like :query"
    		queryAppend=" (smo.DTYPE='HOSPITALMEDCASE' or smo.DTYPE='POLYCLINICMEDCASE') "
    		join=' left join statisticstub ss on smo.statisticstub_id=ss.id'
    		order=""
    		/>
    </voc>
    <voc id='allSMO' type="NativeVocService">
    	<NativeVocService
    		from = ' MedCase as smo '
    		parent=''
    		names=" case when smo.dtype='POLYCLINICMEDCASE' then 'СПО: '||smo.id when smo.dtype='HOSPITALMEDCASE' and smo.statisticstub_id is not null then 'СЛС: '||ss.code else 'СЛС: нет №стат.карты' end  || ' ' || p.lastname||' '||p.firstname||' '||p.middlename" 
    		nameId=" smo.id "
    		queried=" ss.code like :query or smo.id like :query  or p.lastname like upper(:query) or (p.lastname like $piece(upper(:query),' ',1)||'%' and (p.firstname like $piece(upper(:query),' ',2)||'%' or $piece(upper(:query),' ',2) is null) and (p.middlename like $piece(upper(:query),' ',3)||'%' or $piece(:query,' ',3) is null))"
    		queryAppend=" (smo.DTYPE='HOSPITALMEDCASE' or smo.DTYPE='POLYCLINICMEDCASE') "
    		join=' left join statisticstub ss on smo.statisticstub_id=ss.id  left join patient p on p.id=smo.patient_id '
    		order=""
    		/>
    </voc>
     <voc id='sloBySLS' type='NativeVocService'>
    	<NativeVocService 
    		from = ' medcase smoD '
    		parent='  smoD.parent_id = :parent '
    		names=" dep.name || ' ' || vwf.name||' '||wp.lastname|| ' '||wp.firstname||' '||wp.middlename " 
    		nameId=" smoD.id "
    		queried=" upper(dep.name) like upper(:query) "
    		queryAppend=" smoD.DTYPE='DepartmentMedCase' "
    		join= "left join MisLpu dep on smoD.department_id=dep.id
left join workfunction wf on wf.id=smoD.ownerFunction_id
left join VocWorkfunction vwf on vwf.id=wf.workFunction_id
left join worker w on w.id=wf.worker_id
left join patient wp on wp.id=w.person_id "
    		order=""
    	/>
    </voc>
     <voc id='departmentBySMO' type='NativeVocService'>
    	<NativeVocService 
    		from = ' MisLpu dep '
    		parent='  smoD.parent_id = :parent '
    		names=" dep.name " 
    		nameId=" dep.id "
    		queried=" upper(dep.name) like upper(:query) "
    		queryAppend=""
    		join= "left join medcase smoD on smoD.department_id =dep.id and smoD.DTYPE='DepartmentMedCase' "
    		order=""
    	/>
    </voc>
     <voc id='departmentIntake' type='NativeVocService'>
    	<NativeVocService 
    		from = ' MisLpu dep '
    		parent=' '
    		names=" dep.name " 
    		nameId=" dep.id "
    		queried=" upper(dep.name) like upper(:query) "
    		queryAppend="dep.isIntakeBioMaterial='1'"
    		join= ""
    		order=""
    	/>
    </voc>

<!-- 
    <voc id='departmentBySMO' type='NativeVocService'>
    	<NativeVocService 
    		from = ' MisLpu dep '
    		parent='  (smoD.parent_id = :parent or smoP.id=:parent) '
    		names=" dep.name " 
    		nameId=" dep.id "
    		queried=" upper(dep.name) like upper(:query) "
    		queryAppend=""
    		join= "left join medcase smoD on smoD.department_id =dep.id and smoD.DTYPE='DepartmentMedCase'
left join worker w on w.lpu_id = dep.id
left join medcase smoP on smoP.owner_id=w.id "
    		order=""
    	/>
    </voc>
-->    

    
    <voc id='workCalendar' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.workcalendar.WorkCalendar'
                names   = 'id'
                queried = ''
        />
    </voc> 
    
    <voc id='secUser' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.jaas.ejb.domain.SecUser'
                names   = 'login, fullname'
                queried = 'login, fullname'
        />
    </voc> 
    <voc id='secGroup' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.jaas.ejb.domain.SecGroup'
                names   = 'name'
                queried = 'name'
        />
    </voc> 

    <!-- Диагнозы -->
    <!-- FIXME дописать -->
    <voc id='diagnosisByDiagnosisSpo' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.medcase.Diagnosis'
                names   = 'name, idc10.code'
                queried = ''
        />
    </voc> 
    

    
    <voc id='vocSexPermission' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.expomc.ejb.domain.med.voc.VocSexPermission'
                names   = 'name'
                queried = 'name'
        />
    </voc> 

    <voc id='vocWorkPlaceType' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.patient.voc.VocWorkPlaceType'
                names   = 'name'
                queried = 'name'
        />
    </voc> 

    <voc id='vocServiceStream' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.workcalendar.voc.VocServiceStream'
                names   = 'name'
                queried = 'name'
                queryConvertType="UPPER_CASE"
                queryAppend=" (deprecated is null or deprecated=false) "
        />
    </voc> 

    <voc id='staffUnit' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.worker.StaffUnit'
                names   = 'info'
                queried = 'post.name'
        />
    </voc> 
    
    <voc id='vocDiagnosisRegistrationType' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.medcase.voc.VocDiagnosisRegistrationType'
                names   = 'name'
                queried = 'name'
       queryConvertType = "UPPER_CASE"                
        />
    </voc> 
    <!-- Диетология -->
    <voc id='vocDishPreparationMethod' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.diet.voc.VocDishPreparationMethod'
                names   = 'name'
                queried = 'name'
        />
    </voc> 
  
    <voc id='vocDishType' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.diet.voc.VocDishType'
                names   = 'name'
                queried = 'name'
        />
    </voc> 
    <voc id='Diet' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.diet.Diet'
                names   = 'name'
                queried = 'name'
        />
    </voc> 
    <voc id='parentDiet' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.diet.Diet'
                names   = 'name'
                queried = 'name'
                queryAppend = 'parent_id is null'
        />
    </voc>     

     <voc id='vocMealTime' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.diet.voc.VocMealTime'
                names   = 'name'
                queried = 'name'
        />
    </voc> 

    <voc id='vocWeekDay' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.workcalendar.voc.VocWeekDay'
                names   = 'name'
                queried = 'name'
        />
    </voc> 
    
    <voc id='Dish' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.diet.Dish'
                names   = 'name'
                queried = 'name'
        />
    </voc> 
    
    <voc id='vocProcessingType' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.diet.voc.VocProcessingType'
                names   = 'name'
                queried = 'name'
        />
    </voc> 
    
    <voc id='vocFoodStuff' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.diet.voc.VocFoodStuff'
                names   = 'name'
                queried = 'name'
        />
    </voc> 
    
    <voc id='vocMonth' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.diet.voc.VocMonth'
                names   = 'name'
                queried = 'name'
        />
    </voc> 
    
<!--Назначения на лечение    -->
	
	<!-- Справочник единиц измерения количества лекарства-->
	<voc id='vocDrugAmountUnit' type = 'EntityVocService'>
		<EntityVocService
				entity = 'ru.ecom.mis.ejb.domain.prescription.voc.VocDrugAmountUnit'
				names = 'name'
				queried = 'name'
		/>
	</voc>
	
	<!-- Справочник длительности использования-->
	<voc id='vocDurationUnit' type = 'EntityVocService'>
		<EntityVocService
				entity = 'ru.ecom.mis.ejb.domain.prescription.voc.VocDurationUnit'
				names = 'name'
				queried = 'name'
		/>
	</voc>
	
	<!-- Справочник единиц частоты использования-->
	<voc id='vocFrequencyUnit' type = 'EntityVocService'>
		<EntityVocService
				entity = 'ru.ecom.mis.ejb.domain.prescription.voc.VocFrequencyUnit'
				names = 'name'
				queried = 'name'
		/>
	</voc>
	
	<!-- Справочник причин отмены назначений-->
	<voc id='vocPrescriptCancelReason' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.prescription.voc.VocPrescriptCancelReason'
                names   = 'name'
                queried = 'name'
        />
    </voc> 
	
	<!-- Справочник состояний завершения назначения-->
	<voc id='vocPrescriptFulfilState' type = 'EntityVocService'>
		<EntityVocService
				entity = 'ru.ecom.mis.ejb.domain.prescription.voc.VocPrescriptFulfilState'
				names = 'name'
				queried = 'name'
		/>
	</voc>
	
	<!-- Справочник типов порядка использования-->
	<voc id='vocPrescriptOrderType' type = 'EntityVocService'>
		<EntityVocService
				entity = 'ru.ecom.mis.ejb.domain.prescription.voc.VocPrescriptOrderType'
				names = 'name'
				queried = 'name'
		/>
	</voc>
	
	<!-- Справочник методов введения-->
	<voc id='vocDrugMethod' type = 'EntityVocService'>
		<EntityVocService
				entity = 'ru.ecom.mis.ejb.uc.privilege.domain.voc.VocDrugMethod'
				names = 'name'
				queried = 'name'
		/>
	</voc>
	
	<!-- Справочник типов свертывания коек-->
	<voc id='vocBedReductionType' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.lpu.voc.VocBedReductionType'
                names   = 'name'
                queried = 'name'
                />
    </voc>
    
    <!-- Справочник типов коек (дневной, круглосуточный)-->
	<voc id='vocBedSubType' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.lpu.voc.VocBedSubType'
                names   = 'name'
                queried = 'name'
                />
    </voc>
    
    <!-- Справочник по ДТП-->
	<voc id='omcRoadTrafficInjury' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.expomc.ejb.domain.omcvoc.OmcRoadTrafficInjury'
                names   = 'name'
                queried = 'name'
                />
    </voc>
    <!-- Нетрудоспособность-->
    <!-- Причина закрытия листка нетрудоспособности-->
	<voc id='vocDisabilityDocumentCloseReason' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.disability.voc.VocDisabilityDocumentCloseReason'
                names   = 'codeF,name'
                queried = 'codeF,name'
                queryConvertType = 'UPPER_CASE'
                queryAppend="(disable is null or disable=false)"
                />
    </voc>
    
    <!-- Причина нетрудоспособности-->
	<voc id='vocDisabilityReason' type='NativeVocService'>
		<NativeVocService
			from="VocDisabilityReason"
			nameId="id"
			names="' '||codeF||' '||name"
			queried="codeF like :querId or UPPER(name) like UPPER(:query)"
			queryAppend="(disable is null or cast(disable as int)=0)"
			join=""
			/>
    </voc>
    <!-- Режим нетрудоспособности-->
	<voc id='vocDisabilityRegime' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.disability.voc.VocDisabilityRegime'
                names   = 'code,name'
                queried = 'code,name'
                queryConvertType = 'UPPER_CASE'
                />
    </voc>
    <!-- Тип нарушения -->
	<voc id='vocRegimeViolationType' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.disability.voc.VocRegimeViolationType'
                names   = 'codeF,name'
                queried = 'codeF,name'
                queryConvertType = 'UPPER_CASE'
                queryAppend="(disable is null or disable=false)"
                />
    </voc>
    <!-- Степень ограничения трудоспособности -->
	<voc id='vocDisabilityDegree' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.disability.voc.VocDisabilityDegree'
                names   = 'name'
                queried = 'name'
                queryConvertType = 'UPPER_CASE'
                />
    </voc>
    
    <!-- Первичность листка нетрудоспособности-->
	<voc id='vocDisabilityDocumentPrimarity' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.disability.voc.VocDisabilityDocumentPrimarity'
                names   = 'name'
                queried = 'name'
                queryConvertType = 'FIRST_UPPER'
                />
                 </voc>

	<!-- Область нахождения СМО-->
	<voc id='omcKodTer' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.expomc.ejb.domain.omcvoc.OmcKodTer'
                names   = 'name'
                queried = 'name'
                />
    </voc>
    

    <voc id='omcQnp' type='EntityVocService'>
    	<EntityVocService
    			entity  = 'ru.ecom.expomc.ejb.domain.omcvoc.OmcQnp'
    			names   = 'name'
    			queried = 'name'
    	/>
    </voc>
    
    <voc id='omcStreetT' type='EntityVocService'>
    	<EntityVocService
    			entity  = 'ru.ecom.expomc.ejb.domain.omcvoc.OmcStreetT'
    			names   = 'name'
    			queried = 'name'
    	/>
    </voc>
    
    <voc id='vocStoolType' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.medcase.voc.VocStoolType'
                names   = 'name'
                queried = 'name'
        />
    </voc> 
    
    <voc id='vocDayTime' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.medcase.voc.VocDayTime'
                names   = 'name'
                queried = 'name'
        />
    </voc> 
    
    <voc id='vocEthnicity' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.patient.voc.VocEthnicity'
                names   = 'name'
                queried = 'name'
        />
    </voc> 
    
    <voc id='vocMarriageStatus' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.patient.voc.VocMarriageStatus'
                names   = 'name'
                queried = 'name'
        />
    </voc> 
    
    <voc id='vocEducationType' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.worker.voc.VocEducationType'
                names   = 'name'
                queried = 'name'
        />
    </voc>
    
    <voc id='vocMedService' type='EntityVocService'>
        <EntityVocService
                entity  = 'ru.ecom.mis.ejb.domain.medcase.voc.VocMedService'
                names   = 'code,name'
                queried = 'code,name'
        />
    </voc>
    
    <voc id='vocAcuityDiagnosis' type='EntityVocService'>
            <EntityVocService
                    entity  = 'ru.ecom.mis.ejb.domain.medcase.voc.VocAcuityDiagnosis'
                    names   = 'name'
                    queried = 'name'
                    queryConvertType="UPPER_CASE"
                    />
    </voc>
    <voc id='vocPrimaryDiagnosis' type='EntityVocService'>
            <EntityVocService
                    entity  = 'ru.ecom.mis.ejb.domain.medcase.voc.VocPrimaryDiagnosis'
                    names   = 'name'
                    queried = 'name'
                    queryConvertType="UPPER_CASE"
                    />
    </voc>
    <voc id='vocDrugUnlicensedName' type='EntityVocService'>
            <EntityVocService
                    entity  = 'ru.ecom.mis.ejb.uc.privilege.domain.voc.VocDrugUnlicensedName'
                    names   = 'name'
                    queried = 'name'
                    />
    </voc>
    <voc id='vocDrugLicensedName' type='EntityVocService'>
            <EntityVocService
                    entity  = 'ru.ecom.mis.ejb.uc.privilege.domain.voc.VocLicensedName'
                    names   = 'name'
                    queried = 'name'
                    />
    </voc>
    
    <voc id='vocInvalidity' type='EntityVocService'>
            <EntityVocService
                    entity  = 'ru.ecom.mis.ejb.domain.disability.voc.VocInvalidity'
                    names   = 'name'
                    queried = 'name'
                    queryConvertType="UPPER_CASE"
                    />
    </voc>
    <!--  ПЕРЕЛИВАНИЕ КРОВИ -->
    
    <voc id='vocBloodGroup' type='EntityVocService'>
            <EntityVocService
                    entity  = 'ru.ecom.mis.ejb.domain.medcase.voc.VocBloodGroup'
                    names   = 'name'
                    queried = 'name'
                    />
    </voc>
    
    <voc id='vocBloodPreparation' type='EntityVocService'>
            <EntityVocService
                    entity  = 'ru.ecom.mis.ejb.domain.medcase.voc.VocBloodPreparation'
                    names   = 'name'
                    queried = 'name'
                    />
    </voc>
    
    <voc id='vocBloodPreparationType' type='EntityVocService'>
            <EntityVocService
                    entity  = 'ru.ecom.mis.ejb.domain.medcase.voc.VocBloodPreparationType'
                    names   = 'name'
                    queried = 'name'
                    />
    </voc>
    
    <voc id='vocOtherTransfusPreparation' type='EntityVocService'>
            <EntityVocService
                    entity  = 'ru.ecom.mis.ejb.domain.medcase.voc.VocOtherTransfusPreparation'
                    names   = 'name'
                    queried = 'name'
                    />
    </voc>
    
    <voc id='vocRhesusFactor' type='EntityVocService'>
            <EntityVocService
                    entity  = 'ru.ecom.mis.ejb.domain.medcase.voc.VocRhesusFactor'
                    names   = 'name'
                    queried = 'name'
                    />
    </voc>
    
    <voc id='vocTransfusionMethod' type='EntityVocService'>
            <EntityVocService
                    entity  = 'ru.ecom.mis.ejb.domain.medcase.voc.VocTransfusionMethod'
                    names   = 'name'
                    queried = 'name'
                    />
    </voc>
    
    <voc id='vocTransfusionReaction' type='EntityVocService'>
            <EntityVocService
                    entity  = 'ru.ecom.mis.ejb.domain.medcase.voc.VocTransfusionReaction'
                    names   = 'name'
                    queried = 'name'
                    />
    </voc>
    
    <!--  БЕРЕМЕННОСТЬ -->
    
    <voc id='vocApgarMuscleTone' type='EntityVocService'>
            <EntityVocService
                    entity  = 'ru.ecom.mis.ejb.domain.birth.voc.VocApgarMuscleTone'
                    names   = 'name'
                    queried = 'name'
                    />
    </voc>
    
    <voc id='vocApgarPalpitation' type='EntityVocService'>
            <EntityVocService
                    entity  = 'ru.ecom.mis.ejb.domain.birth.voc.VocApgarPalpitation'
                    names   = 'name'
                    queried = 'name'
                    />
    </voc>
    
    <voc id='vocApgarReflexes' type='EntityVocService'>
            <EntityVocService
                    entity  = 'ru.ecom.mis.ejb.domain.birth.voc.VocApgarReflexes'
                    names   = 'name'
                    queried = 'name'
                    />
    </voc>
    
    <voc id='vocApgarRespiration' type='EntityVocService'>
            <EntityVocService
                    entity  = 'ru.ecom.mis.ejb.domain.birth.voc.VocApgarRespiration'
                    names   = 'name'
                    queried = 'name'
                    />
    </voc>
    
    <voc id='vocApgarSkinColor' type='EntityVocService'>
            <EntityVocService
                    entity  = 'ru.ecom.mis.ejb.domain.birth.voc.VocApgarSkinColor'
                    names   = 'name'
                    queried = 'name'
                    />
    </voc>
    
    <voc id='vocInfRiskNewBornWeight' type='EntityVocService'>
            <EntityVocService
                    entity  = 'ru.ecom.mis.ejb.domain.birth.voc.VocInfRiskNewBornWeight'
                    names   = 'name'
                    queried = 'name'
                    />
    </voc>
    
    <voc id='vocInfRiskWaterNature' type='EntityVocService'>
            <EntityVocService
                    entity  = 'ru.ecom.mis.ejb.domain.birth.voc.VocInfRiskWaterNature'
                    names   = 'name'
                    queried = 'name'
                    />
    </voc>
    
    <voc id='vocInfRiskMotherTemperature' type='EntityVocService'>
            <EntityVocService
                    entity  = 'ru.ecom.mis.ejb.domain.birth.voc.VocInfRiskMotherTemperature'
                    names   = 'name'
                    queried = 'name'
                    />
    </voc>
    
    <voc id='vocInfRiskMotherDiseases' type='EntityVocService'>
            <EntityVocService
                    entity  = 'ru.ecom.mis.ejb.domain.birth.voc.VocInfRiskMotherDiseases'
                    names   = 'name'
                    queried = 'name'
                    />
    </voc>
    
    <voc id='vocInfRiskApgar' type='EntityVocService'>
            <EntityVocService
                    entity  = 'ru.ecom.mis.ejb.domain.birth.voc.VocInfRiskMotherDiseases'
                    names   = 'name'
                    queried = 'name'
                    />
    </voc>
    <voc id='vocInfRiskWaterless' type='EntityVocService'>
            <EntityVocService
                    entity  = 'ru.ecom.mis.ejb.domain.birth.voc.VocInfRiskWaterless'
                    names   = 'name'
                    queried = 'name'
                    />
    </voc>
    <voc id='vocNewBornCordAttaching' type='EntityVocService'>
    	<EntityVocService 
    	  	 entity = 'ru.ecom.mis.ejb.domain.birth.voc.VocNewBornCordAttaching'
    		  names = 'name'
    		queried = 'name'
    	/>
    </voc>
    <voc id='vocInspectionCondition' type='EntityVocService'>
    	<EntityVocService 
    	  	 entity = 'ru.ecom.mis.ejb.domain.birth.voc.VocInspectionCondition'
    		  names = 'name'
    		queried = 'name'
    	/>
    </voc>
    <voc id='vocPlacentaIntegrity' type='EntityVocService'>
    	<EntityVocService 
    	  	 entity = 'ru.ecom.mis.ejb.domain.birth.voc.VocPlacentaIntegrity'
    		  names = 'name'
    		queried = 'name'
    	/>
    </voc>
    <voc id='vocMembranesBreakPlace' type='EntityVocService'>
    	<EntityVocService 
    	  	 entity = 'ru.ecom.mis.ejb.domain.birth.voc.VocMembranesBreakPlace'
    		  names = 'name'
    		queried = 'name'
    	/>
    </voc>
    <voc id="vocMzDepType" type="EntityVocService">
    	<EntityVocService
    		entity  = "ru.ecom.mis.ejb.domain.lpu.voc.VocMzDepType"
    		names   = "name"
    		queried = "name"
    	/>
    </voc>
    <voc id='vocDocumentParameter' type='EntityVocService'>
		<EntityVocService
			entity  = 'ru.ecom.mis.ejb.domain.licence.voc.VocDocumentParameter'
			names   = 'name'
			queried = 'name'
		/>
	</voc>
	<voc id='vocDocumentParameterGroup' type='EntityVocService'>
		<EntityVocService
			entity  = 'ru.ecom.mis.ejb.domain.licence.voc.VocDocumentParameterGroup'
			names   = 'name'
			queried = 'name'
		/>
	</voc>
	<voc id='vocExternalDocumentType' type='EntityVocService'>
		<EntityVocService
			entity  = 'ru.ecom.mis.ejb.domain.licence.voc.VocExternalDocumentType'
			names   = 'name'
			queried = 'name'
		/>
	</voc>
</vocconfig>
